<app-side-bar></app-side-bar>

<div class="page-header">
  <h1>GL Account Management</h1>
</div>

<div class="context-menu" [ngStyle]="getContextMenuCss()">
  <div class="context-menu-item" (click)="onModifyClick()">Modify</div>
  <div class="context-menu-item" (click)="onModifyClick()">Delete</div>
</div>

<div class="body">

  <app-spinner *ngIf="processingInProgress"></app-spinner>
  <div class="row">
    <div class="group">
    <a class="circle-btn ripple" href="javascript:void(0)" (click)="showCreateAccountDialog()"></a>
    </div>
  </div>

  <div class="row">
    <div class="cell span_1_of_4">
      <div class="group">
        <input class="inputMaterial span_4_of_4" type="text" (keyup)="filterParameters()" #inputMaterial required>
        <label>Account Code</label>
        <span class="highlight"></span>
        <span class="bar span_4_of_4"></span>
      </div>
    </div>
    <div class="cell span_2_of_4">
      <div class="group">
        <input class="inputMaterial span_4_of_4" type="text" (keyup)="filterParameters()" #inputMaterial required>
        <label>Account Name</label>
        <span class="highlight"></span>
        <span class="bar span_4_of_4"></span>
      </div>
    </div>
    <div class="cell span_1_of_4">
      <div class="group combo-group">
        <label>Account Type</label>
        <div class="select select-fancy select-fancy-image span_4_of_4">
          <select class="span_4_of_4">
            <option> - Select - </option>
            <option>Asset</option>
            <option>Liability</option>
            <option>Equity</option>
            <option>Income</option>
            <option>Expense</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div class="table" #table>

    <div class="row">
      <div class="cell span_1_of_4">
        Account Code
      </div>
      <div class="cell span_2_of_4">
        Account Name
      </div>
      <div class="cell span_1_of_4">
        Account Type
      </div>
    </div>


    <div class="row" *ngFor="let param of parameters" (contextmenu)="onRightClick($event, param.key, param.value, param.clobValue, param.description)">
      <div class="cell">
        {{param.key}}
      </div>
      <div class="cell">
        {{param.description}}
      </div>
      <div class="cell">
        {{param.value}}
      </div>
    </div>
  </div>

  <div *ngIf="showParameterModifyPage">
    <div>
      <div class="row">
        <div class="col .span_4_of_4">
          <div class="group">
            <input class="inputMaterial input-size-extra-large read-only" type="text" value={{parameter.key}} required readonly/>
            <span class="highlight"></span>
            <span class="bar input-size-extra-large"></span>
            <label>Name</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col .span_4_of_4">
          <div class="group">
            <textarea class="inputMaterial input-size-extra-large read-only" rows="2" value={{parameter.description}} required readonly></textarea>
            <span class="highlight"></span>
            <span class="bar input-size-extra-large"></span>
            <label>Description</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col .span_4_of_4">
          <div class="group">
            <textarea class="inputMaterial input-size-extra-large" rows="5" value={{parameter.value}} required></textarea>
            <span class="highlight"></span>
            <span class="bar input-size-extra-large"></span>
            <label>Value</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col .span_4_of_4">
          <div class="group">
            <textarea class="inputMaterial input-size-extra-large" rows="5" value={{parameter.clobValue}} required></textarea>
            <span class="highlight"></span>
            <span class="bar input-size-extra-large"></span>
            <label>CLOB Value</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col .span_1_of_4">
          <button type="submit" class="btn">Save</button>
        </div>
        <div class="col .span_1_of_4">
          <button type="submit" class="btn" (click)="onBackClick()">Back</button>
        </div>
      </div>
    </div>

  </div>

</div>

<div class="modal-medium" *ngIf="getShowCreateAccount()">
  <div class="modal-header">
    <h1>GL Account Creation</h1>
  </div>
  <div class="modal-body">
    <form [formGroup]="formGroup" (ngSubmit)="onClick()" method="post" class="loginform">
      <fieldset [disabled]="isProcessingInProgress()">

        <div class="group">
          <input class="inputMaterial input-size-medium" formControlName="accountCode" type="text" required>
          <label>Account Code</label>
          <span class="highlight"></span>
          <span class="bar input-size-medium"></span>
        </div>
        <div class="group">
          <input class="inputMaterial input-size-medium" formControlName="accountName" type="text" required>
          <label>Account Name</label>
          <span class="highlight"></span>
          <span class="bar input-size-medium"></span>
        </div>
      <div class="group combo-group">
        <label>Account Type</label>
        <div class="select select-fancy select-fancy-image">
          <select class="input-size-medium">
            <option> - Select - </option>
            <option>Asset</option>
            <option>Liability</option>
            <option>Equity</option>
            <option>Income</option>
            <option>Expense</option>
          </select>
        </div>
      </div>
        <button type="submit" class="btn ripple">Create</button>
        <button type="button" class="btn ripple" (click)="onCancelCreateAccount()">Cancel</button>
      </fieldset>
    </form>
  </div>
</div>